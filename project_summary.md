# Alpha Algo AI 프로젝트 개요 및 구현 명세서 📑

본 프로젝트는 토스 증권 스타일의 세련된 UI를 기반으로, KIS API 및 인메모리 캐싱 기술을 활용하여 제작된 실시간 자동매매 AI 대시보드입니다.

## 1. 프로젝트 디렉토리 구조 (주요 파일)

```text
open-trading-api/
├── app/
│   ├── api/v1/endpoints.py      # API 엔드포인트 정의 (지수, 랭킹, 차트 등)
│   ├── application/
│   │   └── trading_service.py   # 핵심 비즈니스 로직 및 인메모리 캐싱 구현
│   └── infrastructure/
│       └── kis_client.py        # KIS API 연동 최적화 (데이터 가공 및 에러 핸들링)
├── frontend/
│   ├── index.html               # 메인 레이아웃 및 DOM 구조 (ALPHA AI 브랜딩 적용)
│   └── static/
│       ├── css/style.css        # Toss Deep Black 테마 및 네온 AI 아이콘 스타일
│       ├── js/app.js            # 프론트엔드 비즈니스 로직 및 Canvas 차트 렌더링
│       └── ai_logo.png          # 생성된 전용 AI 브랜딩 아이콘
├── run_server.md                # 서버 기동/중지 퀵 가이드
└── project_summary.md           # [현재 파일] 프로젝트 상세 명세서
```

## 2. 주요 기능 및 페이지 구성

### 🏠 메인 대시보드 (Home View)
*   **상단 시장 지수 (Market Indices)**:
    *   KOSPI, KOSDAQ, KOSPI 200 실시간 시세 표시
    *   **미니 차트**: HTML5 Canvas를 이용해 최근 30개 지수 틱 데이터를 부드러운 곡선과 네온 그라데이션으로 시각화함.
*   **실시간 거래대금 상위 (Ranking List)**:
    *   현재 시장에서 가장 활발하게 거래되는 종목 20개를 '거래대금' 순으로 나열.
    *   금액 단위를 '억', '만'으로 자동 변환하여 가독성 증대.

### 🔍 종목 상세 및 주문 (Detail View)
*   **실시간 호가 (Hoga)**: 매수/매도 잔량을 10단계로 표시하며 데이터 수신 시 애니메이션 적용.
*   **주문 관리 시스템**: 구매(Buy) 및 판매(Sell) 탭 구성, 예상 주문금액 자동 계산 및 주문 가능 금액 확인 기능을 포함.

## 3. 핵심 기술 구현 사항

### ⚡ 성능 최적화: 인메모리 캐싱 (In-Memory Caching)
*   **목적**: KIS API의 속도 제한(Rate Limit)을 준수하고 대시보드 로딩 시 체감 속도를 극대화함.
*   **메커니즘**:
    *   서버 내부에 `Dictionary` 기반 캐시 구조 설계.
    *   **TTL (Time-To-Live)**: 10초 설정.
    1. 클라이언트 요청 발생 시 캐시 확인.
    2. 생성된 지 10초 미만의 데이터가 있으면 KIS 서버를 거치지 않고 즉시 반환.
    3. 10초 경과 시에만 신규 데이터를 fetching하여 캐시 갱신.
*   **결과**: 반복 새로고침 시 응답 속도가 1.7초에서 **0.01초 미만**으로 단축됨.

### 🎨 디자인 및 브랜딩
*   **테마**: Deep Black 테마를 적용하여 전문적인 투자 도구 느낌의 프리미엄 감성 유지.
*   **AI 브랜딩**: 'Toss' 명칭을 **'ALPHA AI'**로 전면 리브랜딩하고, AI 회로 뇌와 상승 차트가 결합된 전용 아이콘 적용.

### 🛠 데이터 핸들링 (Backend)
*   `kis_client.py`에서 중첩된 API 응답 구조를 프론트엔드가 사용하기 쉬운 JSON 형태로 정제하여 전달함.
*   에러 발생 시 `NaN` 대신 안정적인 기본값을 반환하는 방어적 로직 적용.

## 4. 백엔드 프레임워크: FastAPI 활용

본 프로젝트는 고성능 파이썬 웹 프레임워크인 **FastAPI**를 기반으로 구축되었습니다.

*   **비동기 처리 (Asynchronous)**: `uvicorn` 서버와 함께 비동기 방식으로 동작하여 여러 클라이언트의 요청을 지연 없이 효율적으로 처리합니다.
*   **정적 파일 서빙 (Static Files)**: `app.mount("/static", ...)` 기능을 통해 프론트엔드 자원(CSS, JS, 로고 등)을 안정적으로 제공합니다.
*   **CORS 설정**: `CORSMiddleware`를 적용하여 브라우저에서의 보안 정책(Cross-Origin) 문제를 해결하고 원활한 데이터 통신을 지원합니다.
*   **자동 문서화**: FastAPI의 기본 기능을 통해 `/docs` 경로에서 API 명세를 자동으로 생성하고 테스트할 수 있는 환경을 제공합니다.
